<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pengakuan Ku ‚ú®</title>
  <style>
    /* ====== Theme & Base ====== */
    :root {
      --bg: #0e0f14;
      --card: #151722;
      --accent: #7c5cff;
      --accent-2: #00e5ff;
      --text: #e9e9f1;
      --muted: #a9adc4;
      --danger: #ff5d7a;
      --success: #46e3a6;
      --glow: 0 0 20px rgba(124,92,255,0.35);
    }
    * { box-sizing: border-box }
    html, body {
      background: radial-gradient(1200px 600px at 10% 0%, rgba(124,92,255,0.08), transparent),
                  radial-gradient(800px 800px at 90% 20%, rgba(0,229,255,0.08), transparent),
                  var(--bg);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      margin: 0; min-height: 100vh;
    }

    /* ====== Layout ====== */
    .wrap {
      max-width: 720px;
      margin: 0 auto;
      padding: 28px 20px 60px;
    }
    .card {
      background: linear-gradient(180deg, rgba(21,23,34,0.9), rgba(21,23,34,0.95));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: var(--glow);
      border-radius: 18px;
      padding: 20px;
      backdrop-filter: blur(8px);
    }

    /* ====== Header ====== */
    .title {
      display: flex; align-items: center; gap: 12px;
      margin-bottom: 18px;
    }
    .logo {
      width: 40px; height: 40px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 8px 24px rgba(124,92,255,0.35);
      position: relative; overflow: hidden;
    }
    .logo::after{
      content:"üíå"; position:absolute; inset:0; display:flex;
      align-items:center; justify-content:center; font-size:22px;
    }
    .title h1 {
      font-size: 1.25rem; margin: 0;
      letter-spacing: 0.2px;
    }
    .subtitle { color: var(--muted); margin: 4px 0 0; font-size: 0.95rem }

    /* ====== Chat bubbles ====== */
    .chat {
      display: grid; gap: 14px; margin: 12px 0 16px;
    }
    .bubble {
      position: relative;
      max-width: 86%;
      padding: 12px 14px;
      border-radius: 16px;
      line-height: 1.4;
      animation: fadeIn 380ms ease both;
    }
    .me {
      margin-left: auto;
      background: linear-gradient(180deg, rgba(124,92,255,0.22), rgba(124,92,255,0.16));
      border: 1px solid rgba(124,92,255,0.35);
    }
    .bot {
      margin-right: auto;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
      border: 1px solid rgba(255,255,255,0.08);
    }
    .typing {
      display:inline-flex; gap:4px;
    }
    .dot {
      width: 6px; height: 6px; border-radius: 50%;
      background: #cfd2ff; opacity: .8;
      animation: bounce 1s ease-in-out infinite;
    }
    .dot:nth-child(2){ animation-delay: .15s }
    .dot:nth-child(3){ animation-delay: .3s }

    /* ====== Form & buttons ====== */
    .group { margin-top: 14px }
    label { display:block; color: var(--muted); font-size: 0.9rem; margin-bottom: 8px }
    input[type="text"] {
      width: 100%;
      background: #0f111a;
      border: 1px solid rgba(255,255,255,0.1);
      color: var(--text);
      padding: 12px 14px;
      border-radius: 12px;
      outline: none;
      transition: border .2s, box-shadow .2s;
    }
    input[type="text"]:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(124,92,255,0.25);
    }

    .actions { display:flex; gap: 12px; margin-top: 16px; position: relative; min-height: 48px }
    .btn {
      appearance: none; border: none; cursor: pointer;
      padding: 12px 16px; border-radius: 12px; font-weight: 600;
      transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn:active { transform: translateY(1px) }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), #9b7cff);
      color: #101218;
      box-shadow: 0 10px 22px rgba(124,92,255,0.35);
    }
    .btn-secondary {
      background: linear-gradient(135deg, #232635, #1a1d2a);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.12);
    }
    .btn-yes {
      background: linear-gradient(135deg, var(--success), #2fd39d);
      color: #0d1220;
      box-shadow: 0 10px 22px rgba(70,227,166,0.3);
    }
    .btn-no {
      background: linear-gradient(135deg, var(--danger), #ff8ea1);
      color: #1b0c10;
      box-shadow: 0 10px 22px rgba(255,93,122,0.35);
      position: absolute; left: 0; top: 0;
    }

    .hint { color: var(--muted); font-size: 0.88rem; margin-top: 12px }

    /* ====== Result screen ====== */
    .result {
      display:none; text-align:center; padding: 24px 16px;
    }
    .heart {
      font-size: 42px; filter: drop-shadow(0 8px 24px rgba(255,93,122,0.35));
      animation: beat 1.1s ease-in-out infinite;
    }
    .big {
      font-size: 1.35rem; margin: 10px 0;
    }
    .sub { color: var(--muted); margin-top: 6px }

    /* ====== Footer ====== */
    footer {
      margin-top: 18px; color: var(--muted); font-size: 0.85rem;
      display:flex; justify-content:center; gap: 8px; align-items:center;
      opacity: .85;
    }
    .pill {
      padding: 6px 10px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.08);
      background: #121422;
    }

    /* ====== Animations ====== */
    @keyframes fadeIn { from { opacity:0; transform: translateY(6px) } to { opacity:1; transform:none } }
    @keyframes bounce { 0%,80%,100% { transform: translateY(0) } 40% { transform: translateY(-6px) } }
    @keyframes beat { 0%,100% { transform: scale(1) } 50% { transform: scale(1.12) } }

    /* ====== Responsive tweaks ====== */
    @media (max-width: 420px){
      .bubble { max-width: 92% }
      .title h1 { font-size: 1.1rem }
      .heart { font-size: 36px }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="title">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Pengakuan kecil, from me ü´∂</h1>
          <p class="subtitle">Just for you!</p>
        </div>
      </div>

      <!-- Conversation area -->
      <div id="chat" class="chat" aria-live="polite">
        <div class="bubble bot">
          Hai, boleh kenalan gak? Namamu siapa ya? üòä
        </div>
        <div class="bubble me" id="askName">
          <label for="nameInput">Tulis namamu di sini</label>
          <input id="nameInput" type="text" placeholder="SIAPA NAMANYA?" autocomplete="name" />
          <div class="actions">
            <button class="btn btn-primary" id="nextBtn">Lanjut</button>
          </div>
          <p class="hint">Tekan ‚ÄúLanjut‚Äù untuk melanjutkan obrolan.</p>
        </div>
      </div>

      <!-- Like question -->
      <div id="likeStage" class="group" style="display:none;">
        <div class="bubble bot" id="likeQuestion"></div>
        <div class="bubble me">
          <div class="actions" id="likeActions">
            <button class="btn btn-yes" id="yesBtn">Ya üíñ</button>
            <button class="btn btn-no" id="noBtn">Nggak üôà</button>
          </div>
          <p class="hint">Kalau pilih ‚ÄúNggak‚Äù, hati-hati‚Ä¶ tombolnya maluw üòú</p>
        </div>
      </div>

      <!-- Typing effect bubble -->
      <div id="typing" class="bubble bot" style="display:none;">
        <span class="typing">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </span>
      </div>

      <!-- Result -->
      <div id="result" class="result">
        <div class="heart">üíò</div>
        <div class="big" id="resultText"></div>
        <div class="sub" id="resultSub"></div>
      </div>
    </div>

    </footer>
  </div>

  <script>
    // Utility: show typing bubble briefly
    const typing = document.getElementById('typing');
    function showTyping(ms = 900){
      typing.style.display = 'block';
      return new Promise(res => setTimeout(() => {
        typing.style.display = 'none'; res();
      }, ms));
    }

    // Elements
    const nameInput = document.getElementById('nameInput');
    const nextBtn = document.getElementById('nextBtn');
    const chat = document.getElementById('chat');
    const likeStage = document.getElementById('likeStage');
    const likeQuestion = document.getElementById('likeQuestion');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const result = document.getElementById('result');
    const resultText = document.getElementById('resultText');
    const resultSub = document.getElementById('resultSub');

    // Focus name field on load
    nameInput.focus();

    // Step 1: Capture name, proceed
    nextBtn.addEventListener('click', async () => {
      const name = (nameInput.value || '').trim();
      if(!name){
        nameInput.focus();
        nameInput.style.borderColor = '#ff8ea1';
        nameInput.style.boxShadow = '0 0 0 3px rgba(255,93,122,0.25)';
        return;
      }
      nameInput.style.borderColor = '';
      nameInput.style.boxShadow = '';

      // Add playful response
      await showTyping(800);
      const greet = document.createElement('div');
      greet.className = 'bubble bot';
      greet.textContent = `Hai, ${name} ‚ú® Senang kenal kamu!`;
      chat.appendChild(greet);

      await showTyping(900);
      likeQuestion.textContent = `${name}, kamu suka aku nggak? ü§≠`;
      likeStage.style.display = 'block';

      // Smooth scroll to like stage
      likeStage.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // Step 2: Yes response
    yesBtn.addEventListener('click', async () => {
      // Hide like stage, show result
      chat.style.display = 'none';
      likeStage.style.display = 'none';
      typing.style.display = 'none';

      result.style.display = 'block';
      const name = (nameInput.value || '').trim();
      resultText.textContent = `jujurly Aku juga sangat suka sama kamu, ${name}! ü•∞`;
      resultSub.textContent = 'Terima kasih sudah jujur.';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Step 3: No button runs away
    const area = document.getElementById('likeActions');
    let attempts = 0;
    function randomPos() {
      const pad = 6; // safety padding
      const maxX = area.clientWidth - noBtn.offsetWidth - pad;
      const maxY = area.clientHeight - noBtn.offsetHeight - pad;
      const x = Math.max(0, Math.min(maxX, Math.floor(Math.random() * (maxX + 1))));
      const y = Math.max(0, Math.min(maxY, Math.floor(Math.random() * (maxY + 1))));
      noBtn.style.left = x + 'px';
      noBtn.style.top  = y + 'px';
    }

    // Move on hover and on click
    function escape() {
      attempts++;
      randomPos();
      noBtn.style.transition = 'left .12s ease, top .12s ease, transform .12s ease';
      noBtn.style.transform = 'scale(0.96)';
      setTimeout(() => noBtn.style.transform = 'none', 140);

      // Occasionally tease
      if(attempts === 3){
        const tease = document.createElement('div');
        tease.className = 'bubble bot';
        tease.textContent = 'Eh kok dikejar? üòù Coba tekan ‚ÄúYa‚Äù aja~';
        chat.appendChild(tease);
      }
    }
    noBtn.addEventListener('mouseenter', escape);
    noBtn.addEventListener('click', escape);
    window.addEventListener('resize', () => {
      // keep the button within bounds on resize
      if(noBtn.parentElement === area){
        randomPos();
      }
    });
  </script>
</body>
</html>
